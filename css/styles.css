:root{
  --bg:#282828; --fg:#ebdbb2; --accent:#d79921; --secondary:#504945;
  --bookmark-bg:rgba(235,219,178,0.08); --bookmark-hover-bg:rgba(235,219,178,0.18);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
  min-height:100vh; display:flex; flex-direction:column; justify-content:flex-start; align-items:center;
  padding:2vh 2vw; font-family:'JetBrains Mono', monospace;
  transition: background 0.5s, color 0.5s;
  background-color: var(--bg);
  color: var(--fg);
  background-size: cover; background-position: center; background-repeat: no-repeat;
}
.translucent-container{
  width:100%; max-width:1200px; background: rgba(40,40,40,0.7);
  backdrop-filter: blur(8px); border-radius:16px; padding:2rem; box-sizing:border-box;
  transition: background 0.5s;
}
h1{font-size:clamp(2rem,5vw,3rem); margin-bottom:1rem}
.typing{display:inline-block; overflow:hidden; white-space:nowrap; border-right:2px solid var(--fg);}
.typing{width:0; animation:typing 1.3s steps(7) forwards, blink-caret 0.8s step-end infinite}
.search-box{margin-top:2vh; display:flex; flex-wrap:wrap; justify-content:center; gap:1vw}
input{width:clamp(200px,40vw,400px); padding:1rem 1.5rem; border-radius:30px; border:none; outline:none; font-size:clamp(0.9rem,1.5vw,1rem); transition: box-shadow 0.3s, background 0.5s, color 0.5s; background:var(--secondary);}
input:focus{box-shadow:0 0 15px rgba(255,255,255,0.3);}
button{padding:1rem 1.5rem; border-radius:30px; border:none; background:var(--accent); font-size:clamp(0.9rem,1.5vw,1rem); cursor:pointer; transition: transform 0.2s ease, background 0.3s ease;}
button:hover{transform:scale(1.05); background:var(--fg);}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
@keyframes slideDown{from{transform:translateY(-20px);opacity:0;}to{transform:translateY(0);opacity:1;}}
@keyframes fadeUp{from{transform:translateY(20px);opacity:0;}to{transform:translateY(0);opacity:1;}}
@keyframes typing{from{width:0}to{width:7ch}}
@keyframes blink-caret{0%,100%{border-right-color:var(--fg)}50%{border-right-color:transparent}}
@keyframes fadeInPage{from{opacity:0; transform:translateY(6px)}to{opacity:1; transform:translateY(0)}}

/* hide the page content until typing completes */
.page-rest{opacity:0; animation:fadeInPage 800ms ease forwards; animation-delay:1.35s}
.top-info{margin-top:3vh; text-align:center}
.clock{font-size:clamp(1.5rem,4vw,2rem); font-weight:600; margin-bottom:0.5rem;}
.greeting{font-size:clamp(1rem,2.5vw,1.3rem); opacity:0.8; margin-bottom:1rem;}
.weather{font-size:clamp(0.9rem,2vw,1.1rem); margin-bottom:2vh; opacity:0.9;}
.bookmarks-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:1.5vw; width:100%; margin:2vh auto 0 auto;}
.bm{display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem; padding:1rem; background:var(--bookmark-bg); backdrop-filter:blur(6px); border-radius:16px; text-align:center; font-size:clamp(0.9rem,1.5vw,1.1rem); transition: transform 0.3s ease, background 0.3s ease;}
.bm img{width:clamp(24px,5vw,32px); height:auto; transition: transform 0.3s ease;}
.bm:hover{background:var(--bookmark-hover-bg); transform:scale(1.12);}
.bm:hover img{transform:scale(1.3);}
/* modal container no longer scrolls itself; inner .modal-body handles scrolling so header stays fixed */
#configModal{position:fixed; top:50%; left:50%; transform:translate(-50%, -50%) scale(0.98); background: rgba(18,20,24,0.92); padding:0; border-radius:14px; z-index:999; width:92vw; max-width:1100px; max-height:86vh; overflow:visible; box-shadow:0 12px 40px rgba(2,6,23,0.6); opacity:0; pointer-events:none; transition: transform 220ms cubic-bezier(.2,.8,.2,1), opacity 180ms ease; border:1px solid rgba(255,255,255,0.04); backdrop-filter: blur(6px);} 
#configModal.show{opacity:1; transform:translate(-50%, -50%) scale(1); pointer-events:auto;}
#configModal::-webkit-scrollbar{width:10px;} #configModal::-webkit-scrollbar-track{background: rgba(255,255,255,0.05); border-radius:6px;}
#configModal::-webkit-scrollbar-thumb{background: rgba(255,255,255,0.2); border-radius:6px;} #configModal::-webkit-scrollbar-thumb:hover{background: rgba(255,255,255,0.4);}
#bookmarkEditor div{margin-bottom:0.6rem; display:flex; gap:0.6rem; transition: transform 0.16s ease, opacity 0.16s ease; background: rgba(255,255,255,0.03); padding:0.6rem; border-radius:10px; flex-wrap:wrap; align-items:center;}
#bookmarkEditor div input{flex:1; min-width:120px; padding:0.5rem 0.6rem; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background: rgba(255,255,255,0.02); color:var(--fg);} 
#bookmarkEditor select.positionSelect{width:70px; border-radius:6px; padding:0.3rem; border:none; background: rgba(255,255,255,0.1); color:var(--fg);}
.bottom-bar{position:fixed; bottom:0; left:0; width:100%; display:flex; justify-content:space-between; align-items:center; background:linear-gradient(90deg, rgba(0,0,0,0.04), rgba(0,0,0,0.02)); padding:0.5rem 1rem; flex-wrap:wrap; backdrop-filter:blur(4px);} 
.bottom-left{display:flex; align-items:center; gap:1rem;}
.bottom-center{position:absolute; left:50%; transform:translateX(-50%);}
.bottom-right{margin-left:auto;}
#themeSelector{padding:0.5rem 1rem; border-radius:8px; border:none; background:var(--secondary); font-size:1rem; cursor:pointer; text-align:center;}
#themeSelector option{text-align:center;}

/* Footer link styling: inherit page color, underlined for affordance (not default blue) */
.bottom-center a{ color: inherit; text-decoration: underline; text-decoration-thickness: 1px; text-underline-offset: 2px; text-decoration-color: rgba(255,255,255,0.14); }
.bottom-center a:visited{ color: inherit; }
.bottom-center a:hover{ opacity: 0.95; }

/* Elements previously inline-styled */
#previewGrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1vw;margin-bottom:1rem;}
#backgroundInput{width:100%;padding:0.5rem;border-radius:6px;border:none;background:rgba(255,255,255,0.1);color:inherit}
#themeEditor{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;margin-bottom:1rem;}

/* Accessibility */
:focus{outline:2px dashed var(--accent); outline-offset:3px}
@media (prefers-reduced-motion: reduce){
  *{animation-duration:0s !important; transition-duration:0s !important}
}

/* Screen-reader only (visually hidden) */
.sr-only{
  position: absolute !important;
  height: 1px; width: 1px; overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap; border: 0; padding: 0; margin: -1px;
}

#configModal h2{display:flex; align-items:center; justify-content:space-between; font-size:1.25rem; margin-bottom:0.5rem;}
#configModal h3{font-size:1rem; margin-top:0.8rem; margin-bottom:0.5rem; color:var(--fg); opacity:0.95}
#configModal .section{background:transparent; padding:0.5rem 0; border-bottom:1px solid rgba(255,255,255,0.02);} 
#configModal .actions-row{display:flex; gap:0.5rem; margin-top:0.6rem;}
#configModal button{border-radius:8px; padding:0.6rem 0.9rem; font-size:0.95rem}
#configModal input[type="text"]{padding:0.6rem 0.75rem; border-radius:8px}

/* Floating close button (replaces the full header). */
.modal-close-floating{position:absolute; top:12px; right:14px; z-index:80; background:rgba(18,20,24,0.9); color:var(--fg); border:none; font-size:1.25rem; padding:0.35rem 0.6rem; border-radius:8px; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,0.5); transition: transform 180ms ease, top 180ms ease, opacity 180ms ease}
.modal-close-floating:hover{background:rgba(255,255,255,0.03)}
.modal-close-floating.scrolled{transform:translateY(34px)}

/* scrollable body inside modal (content will go under the floating button) */
.modal-body{padding:1rem 1.25rem; padding-top:1rem; max-height: calc(86vh - 64px); overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch}
.modal-body::-webkit-scrollbar{width:10px} .modal-body::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06); border-radius:6px}

/* in-body modal title */
.modal-title{margin:0 0 0.75rem 0; font-size:1.15rem}

/* improve spacing for inputs at bottom of modal */
.modal-body .section label{display:block; margin-bottom:0.5rem}
.modal-body input[type="text"], .modal-body input[type="color"], .modal-body select{margin-top:0.25rem; margin-bottom:0.75rem; width:100%; max-width:100%; box-sizing:border-box}
.modal-body .actions-row{flex-wrap:wrap}
.modal-body #themeEditor{gap:0.75rem}

/* Background gallery */
#bgGallery{display:grid; grid-template-columns:repeat(auto-fit,minmax(100px,1fr)); gap:0.5rem; margin-top:0.5rem;}
.bg-thumb{position:relative; border-radius:8px; overflow:hidden; cursor:pointer; border:2px solid rgba(255,255,255,0.03);}
.bg-thumb img{width:100%; height:72px; object-fit:cover; display:block; transition: transform 180ms ease;}
.bg-thumb:hover img{transform:scale(1.04)}
.bg-thumb.selected{box-shadow:0 6px 18px rgba(0,0,0,0.45); outline:2px solid var(--accent);} 

/* Modal grid layout for preview + editor */
.modal-grid{display:grid; grid-template-columns:1fr 1fr; gap:1rem; align-items:start;}
@media (max-width:900px){ .modal-grid{grid-template-columns:1fr; } }

/* Bookmark editor rows with drag handle */
.bookmark-row{display:flex; gap:0.6rem; align-items:center; padding:0.5rem; background:rgba(255,255,255,0.02); border-radius:8px; border:1px solid rgba(255,255,255,0.02); margin-bottom:0.5rem;}
.bookmark-row.drag-over{outline:2px dashed rgba(255,255,255,0.08);}
.drag-handle{cursor:grab; padding:6px 8px; border-radius:6px; background:rgba(255,255,255,0.03); color:var(--fg); font-weight:600; user-select:none}
.bookmark-row.dragging{opacity:0.6}

/* ensure selects in editor inherit theme color */
.bookmark-row select, .bookmark-row input{color:var(--fg); background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04)}
.bg-upload-row{display:flex; gap:0.5rem; align-items:center; margin-top:0.5rem;}
#bgUpload{padding:0.25rem;}
#clearBackground{padding:0.5rem 0.75rem; border-radius:6px; border:none; background:rgba(255,255,255,0.06); color:inherit; cursor:pointer}

/* actions overlay for uploaded thumbs */
.bg-thumb .thumb-actions{position:absolute; top:6px; right:6px; display:flex; gap:6px; opacity:0; transition:opacity 0.15s ease;}
.bg-thumb:hover .thumb-actions, .bg-thumb:focus .thumb-actions, .bg-thumb.selected .thumb-actions{opacity:1}
.thumb-actions button{background:rgba(0,0,0,0.45); border:none; color:white; padding:6px 8px; border-radius:6px; cursor:pointer; font-size:0.95rem}
.thumb-actions button[aria-label]{display:inline-flex; align-items:center; justify-content:center}

/* Toast */
.toast{position:fixed; left:50%; transform:translateX(-50%) translateY(100%); bottom:80px; background:rgba(0,0,0,0.75); color:white; padding:0.5rem 1rem; border-radius:8px; display:flex; gap:0.75rem; align-items:center; box-shadow:0 6px 18px rgba(0,0,0,0.4); transition:transform 220ms ease, opacity 220ms ease; opacity:0; z-index:1200}
.toast.show{transform:translateX(-50%) translateY(0); opacity:1}
.toast-undo{background:transparent; border:1px solid rgba(255,255,255,0.2); color:white; padding:0.25rem 0.5rem; border-radius:6px; cursor:pointer}
.toast-undo:focus{outline:2px solid var(--accent)}

/* rename overlay inside thumbnail */
/* rename-overlay removed â€” rename functionality disabled */
